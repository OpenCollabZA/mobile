'use strict';
/**
* Faq Detail controller
*/

/*
$(document).ready(function(){
$('.tree-toggle').click(function () {
$(this).parent().children('ul.tree').toggle(200);
});
});
*/
var FaqDetailCtrl = ($scope, $rootScope, $routeParams, FaqService, SynthErrorHandler) => {
	$rootScope.activePage = 'faqs';
	$rootScope.breadcrumbs = [{'name' : 'FAQs', 'url' : '#/tool/faq/' + $routeParams.moduleId}];
	// Get the specific faq
	FaqService.getFaq($routeParams.faqId)
	.then(function(faq) {
		FaqService
		.getFaq($routeParams.moduleId, faq.parentId)
		.then(function(parentFaq){
			faq.category = parentFaq.description;
			$rootScope.breadcrumbs = [{'name' : 'FAQs', 'url' : '#/tool/faq/' + $routeParams.moduleId}, {'name' : faq.category}];
			$scope.faq = faq;
		}, SynthErrorHandler);
	}, SynthErrorHandler);
};
FaqDetailCtrl.$inject = ['$scope', '$rootScope', '$routeParams', 'FaqService', 'SynthErrorHandler'];
export default FaqDetailCtrl;
